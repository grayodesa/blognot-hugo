---
title: nginx и vBulletin
author: Gray
type: posts
date: 2005-07-12T12:02:20+00:00
excerpt:
url: /6045
dsq_thread_id:
  - 4193692
esml_socialcount_LAST_UPDATED:
  - 1497292442
essb_cache_expire:
  - 1615228542
categories:
  - Uncategorized

---







Кстати, в процессе настройки <a href="http://sysoev.ru/nginx/" target="_blank">nginx</a> вылезла интересная проблема &#8212; все работало исправно, а при попытке написать сообщение возникала ошибка &#171;504 Gateway Timeout&#187;. При этом в версии vBulletin 3.0.7 пост проходил, а в 2.2.6 &#8212; нет.  
Оказалось, что этот движок форума (да и другие, вероятно, тоже) довольно вольно формирует заголовки запросов и ответов веб-сервера, не заботясь об их размере, и именно на этом и спотыкался nginx. Лечится это просто &#8212; в конфиге сервера (или виртуального хоста) достаточно указать параметр proxy\_header\_buffer_size (мы установили в 64k, думаю, этого более чем достаточно) и все замечательно начинает работать.