---
title: Технические работы на блоге
author: Gray
type: posts
date: 2016-05-16T19:56:42+00:00
url: /12810
wp-to-buffer-pro:
  - 'a:15:{s:8:"override";s:1:"0";s:7:"default";a:3:{s:7:"publish";a:2:{s:7:"enabled";s:1:"1";s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"1";s:11:"sub_profile";i:0;s:7:"message";s:13:"{title} {url}";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:27:"Updated Post: {title} {url}";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"530daa0d7e66d33475000043";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"5559ad520fc54cee1e8b4567";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"5559ae040fc54c3a208b4567";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"5559ae1e0fc54c29208b4569";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"55b23a2b474329b366ad5931";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:23:"New Post: {title} {url}";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:23:"New Post: {title} {url}";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"55b23a44474329f162ad5939";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:23:"New Post: {title} {url}";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:23:"New Post: {title} {url}";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"4eb3e9e6512f7eb575000000";a:4:{s:7:"enabled";s:1:"1";s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"505c4e6d1b81f6966a000022";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"000000000000000000025630";a:4:{s:7:"enabled";s:1:"1";s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"52299b3a6771caf57c000000";a:4:{s:7:"enabled";s:1:"1";s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"5277fb456f9ada80020001f3";a:4:{s:7:"enabled";s:1:"1";s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"52cfc979d35725695300000c";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}s:24:"52cfc9f1d357255053000025";a:3:{s:7:"publish";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:6:"update";a:1:{s:6:"status";a:1:{i:0;a:7:{s:5:"image";s:1:"0";s:11:"sub_profile";i:0;s:7:"message";s:0:"";s:8:"schedule";s:12:"queue_bottom";s:4:"days";s:1:"0";s:5:"hours";s:1:"0";s:7:"minutes";s:1:"0";}}}s:10:"conditions";a:1:{s:8:"post_tag";s:0:"";}}}'
bluth_post_layout:
  - right_side
dsq_thread_id:
  - 4832358654
esml_socialcount_LAST_UPDATED:
  - 1504954453
esml_socialcount_facebook:
  - 5
esml_socialcount_googleplus:
  - 2
esml_socialcount_linkedin:
  - 5
esml_socialcount_TOTAL:
  - 12
esml_socialcount_facebook_shares:
  - 5
esml_socialcount_facebook_likes:
  - 2
essb_cache_expire:
  - 1614881755
essb_c_facebook:
  - 5
essb_c_google:
  - 2
essb_c_linkedin:
  - 5
essb_c_buffer:
  - 4
essb_c_pocket:
  - 4
essb_c_total:
  - 5
essb_pc_buffer:
  - 1
esml_socialcount_stumbleupon:
  - 10
categories:
  - Без рубрики

---







Разошелся в последние дни и провернул некоторое количество технических работ на этом блоге.

Во-первых, все же перевел блог полностью на https. Я давно к этому подступался, пару лет назад даже включил ssl на cloudflare, но сейчас все же решил перевести его полностью. Сейчас сделать это на порядок легче и проще — стали доступны бесплатные ssl-сертификаты от [let&#8217;s encrypt][1], которые еще и ставятся практически автоматически, стоит только захотеть. Большинство протоколо-зависимых мест в сайте я починил еще в прошлый подход, так что никаких проблем вообще не случилось. Единственный минус от переезда — потерялась статистика лайков в Facebook для всех записей, поскольку там как раз указывается протокол. Есть довольно трудоемкий способ это починить, но я как раз не вижу особенного смысла в этом. Вообще, кажется, что польза от перехода на защищенный протокол — в том числе и для ранжирования в поисковиках, — немного больше, чем от цифр около кнопок.

Кстати, поскольку чуть позже я проделал такую же операцию над сайтом Терминала 42 (там пока не включена полная переадресация, но по https уже все доступно), могу сказать, что стандартный блог на WordPress, если он не увлекается раскладыванием картинок и всяких assets на разные хосты, переводится на https довольно просто — поставить сертификат, поменять настройки и включить редирект.

Во-вторых, разошелся и перешел с PHP5 на PHP7. Пара подводных камней меня все же подстерегла — например, плагин W3 Total Cache работать в режиме кэширования через Memcached отказался, роняя всё вообще, а в режиме кэширования на диск как-то не впечатлил. Оказалось, что недостаточно сказать install php7, надо еще руками доставить некоторое количество необходимых модулей. Но потому, когда всё заработало, стало просто так красиво и быстро, что я просто глазам не поверил и некоторое время просто ходил по админке WordPress, наслаждаясь скоростью. Даже с очень хорошими настройками админка обычно была нетороплива, а теперь просто летает, хотя, как я подозреваю, там есть что пооптимизировать в смысле настроек и конфигов.

Теперь можно немного подождать и поставить в план на будущее подключение HTTP/2. Прямо сейчас это сделать немного сложно, поскольку для установки штатной версии того же nginx, где это возможно, надо обновить версию ОС на сервере, а это прямо рекомендуют делать чуть попозже, когда Ubuntu 16.04 проживет хоть немного после релиза. Так что подождем.

 [1]: https://letsencrypt.org/