---
title: Подробнее опишу, что именно мне
author: Gray
type: posts
date: 2006-03-10T11:33:05+00:00
excerpt:
url: /7034
esml_socialcount_LAST_UPDATED:
  - 1497200642
essb_cache_expire:
  - 1616369302
categories:
  - Uncategorized

---







Подробнее опишу, что именно мне <a href="http://www.searchengines.ru/blog/archives/007026.html" target="_blank">не понравилось</a> в импорте блога в WordPress.  
Во-первых, если кто не в курсе, свежеустановленный WordPress при попытке начать импорт выдает ошибку. Лечится это заменой одного из include на require_once, но сам подход! &#8212; одна из функций банально не может работать из-за ошибки программиста, при этом исправлять это никто вроде и не собирается.  
Во-вторых, импорт несколько раз вылетал с ошибками, связанными с тем, что скрипт превышал лимиты, установленные в php.ini. Сначала ему не хватило 8 мегабайт памяти для PHP. Потом ему не хватило 12 мегабайт. Следует учесть, что ни на каком хостинге вас не пустят в такие настройки &#8212; а ведь импортировался достаточно небольшой файл размером с мегабайт &#8212; что-то около 400 записей и 3 тысячи комментариев. А что процесс сделает, если ему подсунуть вдесятеро больший файл для импорта этого блога?  
После того, как процесс вроде бы поместился в памяти, выяснилась замечательная особенность WordPress &#8212; его любимая кодировка &#8212; UTF-8 и он нигде не предлагает ее изменить. С одной стороны, это к лучшему, поскольку снимает вопрос кодировок в принципе, с другой &#8212; что мешает при импорте определить кодировку входного файла, чтобы забивать базу знаками вопроса? Опции очистки базы там тоже не предусмотрено &#8212; пришлось сносить все таблицы и ставить скрипт заново.  
И, наконец, после конвертации файла он не поместился в php\_upload\_size. Это было некритично, но увеличило количество попыток импорта еще на одну. Впрочем, это уже мелочи :).  
Но мне очень интересно, как проблемы с памятью при импорте решают те, кто не имеет root-доступа к серверу&#8230;